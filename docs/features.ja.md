# 実装済み機能一覧

## 概要

`jsont` は、JSON データを美しく表示するTerminal User Interface (TUI) アプリケーションです。インタラクティブなナビゲーション、高度な検索機能、jqクエリサポートを提供します。

## ✅ 実装済みコア機能

### 1. インタラクティブJSON表示

#### 🌳 ツリー表示（メイン機能）
- **階層構造の視覚化**
  - Unicode文字による美しいツリー表示（├─, └─）
  - ネストレベルに応じた適切なインデント
  - 配列インデックス表示（[0], [1], ...）
  - プリミティブ値のインライン表示

- **構文ハイライト**
  - 文字列: 緑色
  - 数値: シアン色  
  - ブール値: 黄色
  - null: グレー色
  - オブジェクトキー: 青色

#### 📖 複数表示モード
- **ツリー表示** (T) - デフォルト、階層構造
- **折りたたみ表示** (C) - コンパクトな構文ハイライト
- **スキーマ表示** (S) - 自動推論JSONスキーマ
- **生表示** (R) - プレーンJSON

### 2. 高度な検索・フィルタリング

#### 🔍 リアルタイム検索
- **スコープ検索**
  - 全体検索 (All)
  - キーのみ検索 (Keys)
  - 値のみ検索 (Values)
  - Tab で切り替え可能

- **検索ハイライト**
  - マッチ箇所の背景色強調
  - リアルタイム結果更新
  - 大文字小文字区別なし

- **検索ナビゲーション**
  - n/N で次/前の検索結果に移動
  - 検索結果カウント表示
  - Esc で検索モード終了

#### ⚡ jqクエリ変換サポート
- **Enter キーでjqモード起動**
- **基本的なjqクエリ実行**
  - `.user.name` - オブジェクトアクセス
  - `.[0]` - 配列アクセス
  - `.[] | select(.age > 20)` - フィルタリング
- **結果の即座表示**

### 3. ナビゲーション機能

#### ⚡ キーボードナビゲーション
- **基本移動**
  - `j/k` または `↑/↓`: 行移動
  - `h/l` または `←/→`: 展開/折りたたみ（ツリーモード）
  - `Ctrl+f/b`: ページアップ/ダウン

- **高速移動**
  - `gg`: ファイル先頭に移動
  - `G`: ファイル末尾に移動
  - `Ctrl+u/d`: 半ページスクロール

- **表示制御**
  - `T`: 表示モード切り替え
  - `L`: 行番号表示切り替え
  - `q`: アプリケーション終了

### 4. データ操作機能

#### 📋 スキーマ推論・エクスポート
- **自動スキーマ推論**
  - JSON データから JSON Schema 自動生成
  - データ型推論（string, number, boolean, array, object）
  - フォーマット検出（email, uri, date-time, uuid）

- **スキーマエクスポート**
  - `E` キーでエクスポートダイアログ
  - ファイル名指定可能
  - `.json` 拡張子自動付加

#### 🔧 設定システム（YAML）
- **設定ファイル場所**: `~/.config/jsont/config.yaml`
- **ホットリロード対応**
- **設定項目**:
  ```yaml
  display:
    interface:
      showLineNumbers: false
      useUnicodeTree: true
    json:
      indent: 2
      useTabs: false
    tree:
      showArrayIndices: true
      showPrimitiveValues: true
      maxValueLength: 100
  ```

### 5. パフォーマンス最適化

#### 🚀 LRUキャッシュシステム
- **スキーマ推論キャッシュ** (200エントリ)
- **デバッグログフォーマットキャッシュ** (1000エントリ)
- **自動メモリ管理** - 最少使用アイテムの自動削除

#### ⚡ レンダリング最適化
- **React.memo** による不要な再レンダリング防止
- **useMemo/useCallback** による計算結果キャッシュ
- **大規模データセット対応** - 効率的なアルゴリズム

## 🔧 技術実装詳細

### 入力方式
- **標準入力 (stdin)**
  ```bash
  cat data.json | jsont
  echo '{"key": "value"}' | jsont
  curl -s https://api.example.com/data | jsont
  ```

- **ファイル入力**
  ```bash
  jsont data.json
  jsont path/to/file.json
  ```

- **パイプモードでのキーボード入力復元**
  - stdin読み取り後のTTY再初期化
  - パイプ環境でも完全なキーボードナビゲーション

### アーキテクチャ
- **フィーチャー駆動設計** - 機能ごとのモジュール分割
- **クリーンアーキテクチャ** - レイヤー分離とDI
- **TypeScript厳密モード** - 完全な型安全性
- **Result型エラーハンドリング** - neverthrowライブラリ

### テスト・品質保証
- **150+総合テスト** - ユニット・統合・パフォーマンステスト
- **カバレッジレポート** - v8プロバイダーによる詳細分析
- **CI/CD統合** - GitHub Actions自動テスト
- **コード品質** - Biome統合リンティング・フォーマット

## 🎯 ユーザー体験

### 学習曲線
- **直感的操作** - vim風キーバインドで経験者に親和的
- **段階的機能発見** - 基本機能から高度機能まで自然な習得
- **コンテキストヘルプ** - `?` キーでリアルタイムヘルプ

### パフォーマンス指標
- **起動時間**: 100ms以下（中規模JSON）
- **大規模データ対応**: 10MB+のJSONファイル
- **メモリ使用量**: 効率的なキャッシュでメモリリーク防止
- **レスポンス性**: リアルタイム検索・ナビゲーション

## 🔄 継続改善項目

### 短期改善
- ユーザビリティ向上
- エラーメッセージの詳細化
- より多くのjqクエリパターン対応

### 中長期拡張
- プラグインシステム
- 追加エクスポート形式
- 高度なフィルタリング機能
- 複数ファイル比較機能

---

この機能一覧は実装済み機能に基づいており、継続的にアップデートされます。